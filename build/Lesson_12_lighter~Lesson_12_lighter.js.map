{"version":3,"sources":["webpack:///./src/Lesson_12_lighter/Lesson_12_lighter.js","webpack:///./src/Lesson_12_lighter/scripts/light.js","webpack:///./src/Lesson_12_lighter/scripts/lighterController.js","webpack:///./src/Lesson_12_lighter/scripts/traffic_lighter.js"],"names":["control","LighterControler","document","querySelector","somelight","Light","somelight1","console","log","target","color","onClick","isActive","render","element","createElement","classList","add","onclick","toggle","appendChild","toggleOff","toggleOn","style","backgroundColor","targetElement","lighters","renderButtons","container","header","content","border","display","addButton","toggleOnButton","toggleOffButton","textContent","addLighter","toggleOffAllLighters","toggleOnAllLighters","lighter","TrafficLighterES6","push","id","colors","lights","activeIndex","renderLights","startAutoSwitch","length","validateNextIndex","enableLight","clearInterval","intervalId","setInterval","nextLight","onmouseenter","stopAutoSwitch","onmouseleave","light","currentIndex","indexOf"],"mappings":"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","file":"Lesson_12_lighter~Lesson_12_lighter.js","sourcesContent":["\r\n\r\n\r\n\r\nimport './Lesson_12_lighter.scss';\r\nimport { TrafficLighterES6 } from './scripts/traffic_lighter';\r\nimport { LighterControler } from './scripts/lighterController';\r\nimport { Light } from './scripts/light';\r\n \r\nconst control = new LighterControler(document.querySelector('body'));\r\nconst somelight = new Light(document.querySelector('body'), 'pink');\r\nconst somelight1 = new Light(document.querySelector('.footer'), 'red');\r\n// const somelight2 = new Light(document.querySelector('body'),'yellow');\r\n// const somelight3 = new Light(document.querySelector('body'),'green');\r\n\r\nconsole.log(somelight);\r\nconsole.log(somelight1);\r\n","\r\n\r\nexport class Light {\r\n  constructor(target, color = 'aqua', onClick){\r\n    this.target = target;\r\n    this.color = color;\r\n    this.isActive = false;\r\n    this.render();\r\n    this.onClick = onClick;\r\n  }\r\n\r\n  render (){\r\n    this.element = document.createElement( 'button' );\r\n    this.element.classList.add( 'traffic-lighter__light');\r\n    this.element.onclick = () => {    \r\n        if(this.onClick){\r\n            this.onClick();\r\n        }   \r\n        this.toggle();       \r\n     }\r\n      this.target.appendChild(this.element);\r\n    }\r\n  \r\n\r\n  toggle(){\r\n    if(this.isActive){\r\n      this.toggleOff();\r\n    }else{\r\n      this.toggleOn();\r\n    }\r\n  }\r\n\r\n  toggleOn(){\r\n    this.element.style.backgroundColor = this.color;\r\n    this.isActive = true;\r\n  }\r\n\r\n  toggleOff(){\r\n    this.element.style.backgroundColor = '';\r\n    this.isActive = false;\r\n  }\r\n}","import { TrafficLighterES6 } from \"./traffic_lighter\";\r\n\r\nexport class LighterControler {\r\n  constructor(targetElement){\r\n    this.targetElement = targetElement;\r\n    this.lighters = [];\r\n    this.render();\r\n    this.renderButtons();\r\n  }\r\n  render(){\r\n    const container = document.createElement('div');\r\n    this.header = document.createElement('header');\r\n    this.content = document.createElement('div');\r\n    this.content.style.border = '5px solid yellow';\r\n    this.content.style.display = 'flex';\r\n\r\n    container.appendChild(this.header);\r\n    container.appendChild(this.content);\r\n    this.targetElement.appendChild(container);\r\n\r\n  }\r\n  renderButtons(){\r\n    const addButton = document.createElement('button');\r\n    const toggleOnButton = document.createElement('button');\r\n    const toggleOffButton = document.createElement('button');\r\n\r\n    addButton.textContent = '+';\r\n    toggleOnButton.textContent = 'on';\r\n    toggleOffButton.textContent = 'off';\r\n\r\n    addButton.onclick = () => {\r\n      this.addLighter();\r\n    }\r\n\r\n    toggleOffButton.onclick = () => {\r\n      this.toggleOffAllLighters();\r\n    }\r\n    toggleOnButton.onclick = () => {\r\n      this.toggleOnAllLighters();\r\n    }\r\n\r\n    this.header.appendChild(addButton);\r\n    this.header.appendChild(toggleOnButton);\r\n    this.header.appendChild(toggleOffButton);\r\n  }\r\n\r\n\r\n\r\n  toggleOffAllLighters(){\r\n    for(let lighter of this.lighters){\r\n      lighter.toggleOff();\r\n    }\r\n  }\r\n  toggleOnAllLighters(){\r\n    for(let lighter of this.lighters){\r\n      lighter.toggleOn();\r\n    }\r\n  }\r\n\r\n  addLighter(){\r\n    const lighter = new TrafficLighterES6(this.content);\r\n    this.lighters.push(lighter);\r\n  }\r\n\r\n}","import '../Lesson_12_lighter.scss';\r\nimport { Light } from './light';\r\nexport { TrafficLighterES6 };\r\n\r\n\r\n\r\nclass TrafficLighterES6 {\r\n  constructor (targetElement, id) {\r\n    this.targetElement = targetElement;\r\n    this.colors = [ 'red', 'yellow', 'green' ];\r\n    this.lights = [];\r\n    this.lighter = 'asdas';\r\n    this.id = id;\r\n    this.activeIndex = 0;\r\n    this.render();\r\n    this.renderLights();\r\n    this.startAutoSwitch();\r\n    \r\n  }\r\n\r\n\r\n  validateNextIndex(){\r\n    return this.activeIndex + 1 < this.colors.length;\r\n  }\r\n  enableLight(){\r\n    this.toggleOff();\r\n    this.lights[this.activeIndex].toggleOn();\r\n  }\r\nnextLight(){\r\n  this.activeIndex = this.validateNextIndex() ? this.activeIndex + 1 : 0 ;\r\n  this.enableLight();\r\n}\r\n\r\nstopAutoSwitch(){\r\n  clearInterval(this.intervalId);\r\n}\r\n\r\nstartAutoSwitch(){\r\n  this.intervalId = setInterval(() => {\r\n    this.nextLight();      \r\n  },1000);\r\n}\r\n  \r\n  render() {\r\n    this.lighter = document.createElement( 'div' );\r\n    this.lighter.classList.add( 'traffic-lighter' );\r\n    this.lighter.id = 'lighter1';\r\n    this.lighter.onmouseenter = () => {\r\n       this.stopAutoSwitch();\r\n    };\r\n    this.lighter.onmouseleave = () => {\r\n      this.startAutoSwitch();\r\n    };\r\n\r\n    this.targetElement.appendChild( this.lighter );\r\n  }\r\n  renderLights() {\r\n    for ( let color of this.colors ) {\r\n      const light = new Light(this.lighter, color, () => {\r\n        this.toggleOff();\r\n        const currentIndex = this.lights.indexOf(light);\r\n        this.activeIndex = currentIndex;\r\n        console.log(this.activeIndex);\r\n      }) ;\r\n      this.lights.push(light);\r\n      };     \r\n    }\r\n \r\n  toggleOff() {\r\n    \r\n    for ( const light of this.lights ) {\r\n      light.toggleOff();\r\n    }\r\n  }\r\n  toggleOn(){\r\n    this.lights[0].toggleOn()\r\n  }\r\n\r\n  disable() {\r\n    this.toggleOff();\r\n  }\r\n}\r\n\r\n"],"sourceRoot":""}